<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" hbarPolicy="AS_NEEDED" pannable="true" style="-fx-background-color: #f8f9fa;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.inventaris.controller.UserController">
    <VBox spacing="20" style="-fx-padding: 30; -fx-background-color: #f8f9fa;">
        
        <!-- HEADER: Search Bar -->
        <HBox alignment="CENTER_LEFT" spacing="20">
            
            <Region HBox.hgrow="ALWAYS" />
            
            <!-- Search Box -->
            <HBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: #765834; -fx-background-radius: 10; -fx-padding: 8 15;">
                
                <TextField fx:id="searchUserField" prefHeight="35" prefWidth="350" promptText="Cari username atau nama..." style="-fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 14px;" />
                
                <Button onAction="#handleSearchUser" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand; -fx-font-weight: bold; -fx-padding: 0 5;" text="ðŸ”">
                    <tooltip><Tooltip text="Cari User" /></tooltip>
                </Button>
                
                <Button style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 18px; -fx-cursor: hand; -fx-padding: 0 5;" text="ðŸŒª">
                    <tooltip><Tooltip text="Filter" /></tooltip>
                </Button>
            </HBox>
        </HBox>
        
        <!-- TOMBOL AKSI: Tambah User -->
        <HBox alignment="CENTER_LEFT" spacing="15">
            
            <!-- âœ¨ TOMBOL TAMBAH USER BARU âœ¨ -->
            <Button onAction="#handleAddUser" style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 8; -fx-cursor: hand;" text="âž• Tambah User">
                <tooltip><Tooltip text="Tambah user baru ke sistem" /></tooltip>
            </Button>
            
            <Region HBox.hgrow="ALWAYS" />
        </HBox>
        
        <!-- TABEL USER -->
        <VBox spacing="0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
            
            <HBox style="-fx-background-color: #765834; -fx-padding: 15; -fx-background-radius: 10 10 0 0;">
                 <Label style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16px;" text="DAFTAR PENGGUNA" />
            </HBox>
            
            <TableView fx:id="userTable" minHeight="500" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colUserId" prefWidth="40.0" text="ID" />
                    <TableColumn fx:id="colUsername" prefWidth="92.0" text="Username" />
                    <TableColumn fx:id="colNama" prefWidth="155.0" text="Nama Lengkap" />
                    <TableColumn fx:id="colRole" prefWidth="100.0" text="Role" />
                    <TableColumn fx:id="colStatus" prefWidth="100.0" text="Status" />
                    <TableColumn fx:id="colUserAction" prefWidth="336.0" text="Aksi" />
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>
        </VBox>
    </VBox>
</ScrollPane>