<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="rootPane" style="-fx-background-color: #F5E6D3;" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.inventaris.controller.LaporanPeminjamController">

    <center>
        <StackPane style="-fx-padding: 30;">
            
            <VBox fx:id="viewPeminjam" alignment="TOP_CENTER" maxWidth="800" spacing="20" style="-fx-background-color: #5D4037; -fx-background-radius: 20; -fx-padding: 40; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 5);">
                
                <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white; -fx-underline: true;" text="LAPOR PERMASALAHAN BARANG" />
                
                <VBox alignment="CENTER_LEFT" maxWidth="600" spacing="15">
                    
                    <VBox spacing="5">
                        <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="Nama Barang" />
                        <ComboBox fx:id="peminjamanCombo" maxWidth="Infinity" prefHeight="40" promptText="Pilih barang yang bermasalah..." style="-fx-background-color: white; -fx-background-radius: 5; -fx-font-size: 14px;" />
                    </VBox>

                    <VBox spacing="5">
                        <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="Nama Instansi / Pemilik" />
                  <TextArea fx:id="txtInstansi" prefHeight="0.0" prefWidth="600.0" promptText="Tulis nama Instansi" />
                    </VBox>

                    <VBox spacing="5">
                        <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="Keterangan Laporan" />
                        <TextArea fx:id="keteranganArea" prefHeight="150" promptText="Deskripsikan kerusakan atau masalah barang..." style="-fx-control-inner-background: white;" wrapText="true" />
                    </VBox>

                    <Button fx:id="btnLapor" maxWidth="150" onAction="#handleLapor" prefHeight="45" style="-fx-background-color: #F5E6D3; -fx-text-fill: #5D4037; -fx-background-radius: 10; -fx-font-weight: bold; -fx-font-size: 14px; -fx-cursor: hand;" text="AJUKAN">
                  <VBox.margin>
                     <Insets top="20.0" />
                  </VBox.margin></Button>

                </VBox>
            </VBox>

            <VBox fx:id="viewAdmin" spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20;" visible="false">
                <HBox alignment="CENTER_LEFT">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold;" text="Daftar Laporan Masuk" />
                    <Region HBox.hgrow="ALWAYS" />
                   
                </HBox>
                
                <TableView fx:id="laporTable" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colNoLaporan" prefWidth="120" text="No. Laporan" />
                        <TableColumn fx:id="colPeminjam" prefWidth="150" text="Peminjam" />
                        <TableColumn fx:id="colBarang" prefWidth="180" text="Barang" />
                        <TableColumn fx:id="colTglLaporan" prefWidth="100" text="Tanggal" />
                        <TableColumn fx:id="colStatus" prefWidth="100" text="Status" />
                        <TableColumn fx:id="colAction" prefWidth="150" text="Aksi" />
                    </columns>
               <columnResizePolicy>
                  <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
               </columnResizePolicy>
                </TableView>
            </VBox>

        </StackPane>
    </center>

</BorderPane>
